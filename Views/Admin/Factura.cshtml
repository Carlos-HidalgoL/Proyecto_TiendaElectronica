@model List<Factura>;

@{
    Layout = "_LayoutAdmin";
}

@Html.Raw(TempData["SweetAlertScript"])

<h2 class="mb-3">Facturas</h2>

<div class="admin-element">

    <table id="table_id" class="table table-dark table-striped">
        <thead>
            <tr>
                <th>Factura Id</th>
                <th>Ultima Impresión</th>
                <th>Subtotal</th>
                <th>Monto Total</th>
                <th>Cédula Usuario</th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            @foreach (var factura in Model)
            {
                <tr>
                    <td class="text-center">@factura.FacturaId</td>
                    @if (factura.UltimaFechaImpresion.ToString() == "01/01/0001 0:00:00")
                    {
                       <td>No Imprimida</td>     
                    }else{
                        <td>@factura.UltimaFechaImpresion.ToString("yyyy-MM-dd")</td>
                    }
                    
                    <td>@factura.SubTotal</td>
                    <td>@factura.MontoTotal</td>
                    <td>@factura.UsuarioId</td>
                    <td>
                        <a href="@Url.Action("DescargarPDF", new{facturaId = factura.FacturaId})" class="btn btn-success">Descargar Pdf</a>
                    </td>
                  

                </tr>

            }

        
        </tbody>
    </table>

</div>